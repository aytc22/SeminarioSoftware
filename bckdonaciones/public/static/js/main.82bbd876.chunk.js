(this.webpackJsonpfrtdonaciones=this.webpackJsonpfrtdonaciones||[]).push([[0],{39:function(e,t){},40:function(e,t,a){e.exports=a(73)},45:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(37),c=a.n(r),l=(a(45),a(15)),i=a(10),s=a(11),u=a(5),m=a(13),h=a(12),g=a(8),p=a(2),d=a(20),f=function(e){var t=e.component,a=e.auth,n=Object(d.a)(e,["component","auth"]);return o.a.createElement(p.b,Object.assign({},n,{component:function(e){return a.isLogged?o.a.createElement(t,Object.assign({},e,{auth:a})):o.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},E=function(e){var t=e.component,a=e.auth,n=Object(d.a)(e,["component","auth"]);return o.a.createElement(p.b,Object.assign({},n,{component:function(e){return o.a.createElement(t,Object.assign({},e,{auth:a}))}}))},b=a(24),v=a.n(b),j=v.a.create();j.defaults.headers.common["cache-control"]="no-cache",j.defaults.headers.post["Content-Type"]="no-cache",j.defaults.headers.put["Content-Type"]="no-cache";var C=v.a.create();C.defaults.headers.common["cache-control"]="no-cache",C.defaults.headers.post["Content-Type"]="no-cache",C.defaults.headers.put["Content-Type"]="no-cache";var O=function(e){C.defaults.headers.common.Authorization="Bearer ".concat(e)},k=C,w=function(){try{return localStorage.setItem("t","t"),localStorage.removeItem("t"),!0}catch(e){return!1}}(),y=(function(){try{sessionStorage.setItem("t","t"),sessionStorage.removeItem("t")}catch(e){return!1}}(),function(e){return w?localStorage.getItem(e):null}),x=function(e,t){return!!w&&(localStorage.setItem(e,t),!0)},L=(a(68),a(69),function(e){return o.a.createElement("header",null,o.a.createElement("h1",null,e.title))}),S=a(25),T=a(26),B=(a(70),function(e){return e.auth.isLogged?o.a.createElement("footer",null,o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(g.b,{to:"/"},o.a.createElement(S.a,{size:"2em"}))),o.a.createElement("li",null,o.a.createElement(g.b,{to:"/Donaciones"},"Donaci\xf3n")),o.a.createElement("li",null,o.a.createElement(g.b,{to:"/Personas"},"Registro"))))):o.a.createElement("footer",null,o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(g.b,{to:"/"},o.a.createElement(S.a,{size:"2em"}))),o.a.createElement("li",null,o.a.createElement(g.b,{to:"/signin"},o.a.createElement(T.a,{size:"2em"}))),o.a.createElement("li",null,o.a.createElement(g.b,{to:"/login"},o.a.createElement(T.a,{size:"2em"}))))))}),D=(a(71),function(e){var t=e.showHeader,a=e.showFooter,n=e.title,r=e.children,c=e.auth,l=t?o.a.createElement(L,{title:n}):null,i=a?o.a.createElement(B,{auth:c}):null;return o.a.createElement("section",null,l,o.a.createElement("main",null,r),i)}),I=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={click:0},e.onClickButton=e.onClickButton.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"onClickButton",value:function(e){this.setState({click:this.state.click+1})}},{key:"render",value:function(){return o.a.createElement(D,{showHeader:!0,showFooter:!0,title:"RECOLECTAS HN",auth:this.props.auth},o.a.createElement("body",null,o.a.createElement("h2",null,"Quedate en Casa"),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("p",null)))}}]),a}(n.Component),q=a(17),z=a.n(q),H=a(19),F=a(16),N=function(){var e=Object(H.a)(z.a.mark((function e(t,a){var n,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.post("/api/Seguridad/login",{correo:t,"contrase\xf1a":a});case 3:return n=e.sent,o=n.data,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),J=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={correo:"","contrase\xf1a":"",redirectTo:!1},e.onClickButton=e.onClickButton.bind(Object(u.a)(e)),e.onTextChange=e.onTextChange.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"onTextChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(F.a)({},a,n))}},{key:"onClickButton",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var a,n,o=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(this.state.correo,this.state.contrase\u00f1a);case 3:a=e.sent,n=a.jwt,delete a.jwt,this.setState({redirectTo:!0},(function(){o.props.auth.login(a,n)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Error al iniciar sesi\xf3n.");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.redirectTo){var e=this.props.location.state?this.props.location.state.from.pathname:"/login";return o.a.createElement(p.a,{to:e})}return o.a.createElement(D,{showHeader:!0,showFooter:!0,title:"Iniciar Sesi\xf3n",auth:this.props.auth},o.a.createElement("fieldset",null,o.a.createElement("label",null,"Correo Electr\xf3nico"),o.a.createElement("input",{type:"email",name:"correo",onChange:this.onTextChange,value:this.state.correo})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Contrase\xf1a"),o.a.createElement("input",{type:"password",name:"contrase\xf1a",onChange:this.onTextChange,value:this.state.contrase\u00f1a})),o.a.createElement("button",{onClick:this.onClickButton},"Iniciar Sesi\xf3n"))}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={correo:"","contrase\xf1a":"",nombre:""},e.onClickButton=e.onClickButton.bind(Object(u.a)(e)),e.onTextChange=e.onTextChange.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"onTextChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(F.a)({},a,n))}},{key:"onClickButton",value:function(e){alert(JSON.stringify(this.state))}},{key:"render",value:function(){return o.a.createElement(D,{showHeader:!0,showFooter:!0,title:"Crear Cuenta",auth:this.props.auth},o.a.createElement("h2",null),o.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Earum illo accusamus, similique sequi saepe cum quas labore, fugit repellat assumenda delectus in suscipit harum quisquam accusantium impedit ipsa ut. Dignissimos."),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Correo Electr\xf3nico"),o.a.createElement("input",{type:"email",name:"correo",onChange:this.onTextChange,value:this.state.correo})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Contrase\xf1a"),o.a.createElement("input",{type:"password",name:"contrase\xf1a",onChange:this.onTextChange,value:this.state.contrase\u00f1a})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Nombre completo"),o.a.createElement("input",{type:"text",name:"nombre",onChange:this.onTextChange,value:this.state.nombre})),o.a.createElement("button",{onClick:this.onClickButton},"Sign In"),this.state.correo,o.a.createElement("br",null),this.state.contrase\u00f1a)}}]),a}(n.Component),M=a(39),P=a.n(M),R=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e,n;return Object(i.a)(this,a),(e=t.call(this)).state={user:y("user")||{},jwt:y("jwt")||"",isLogged:!1,loadingBackend:!1},""!==e.state.jwt&&(O(e.state.jwt),e.state.isLogged=!0),e.setLogginData=e.setLogginData.bind(Object(u.a)(e)),e.setLoggoutData=e.setLoggoutData.bind(Object(u.a)(e)),n=e.setLoggoutData,C.interceptors.response.use((function(e){return e}),(function(e){if(console.log(e),e.response)switch(e.response.status){case 401:n();break;default:console.log(e)}else console.log(e);return Promise.reject(e)})),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({loadingBackend:!0})}},{key:"setLogginData",value:function(e,t){this.setState(Object(l.a)(Object(l.a)({},this.state),{},{user:e,jwt:t,isLogged:!0}),(function(){x("jwt",t),x("user",e),O(t)}))}},{key:"setLoggoutData",value:function(){this.state.loadingBackend?this.setState(Object(l.a)(Object(l.a)({},this.state),{},{user:"",jwt:"",isLogged:!1}),(function(){O("")})):(this.state=Object(l.a)(Object(l.a)({},this.state),{},{user:"",jwt:"",isLogged:!1}),O(""))}},{key:"render",value:function(){if(!this.state.loadingBackend)return o.a.createElement("div",{className:"splash"}," ...Loading ");var e={isLogged:this.state.isLogged,login:this.setLogginData,logout:this.setLoggoutData};return o.a.createElement(g.a,null,o.a.createElement(p.d,null,o.a.createElement(E,{path:"/",component:I,exact:!0,auth:e}),o.a.createElement(E,{path:"/login",component:J,exact:!0,auth:e}),o.a.createElement(E,{path:"/signin",component:A,exact:!0,auth:e}),o.a.createElement(f,{path:"/donaciones",component:P.a,exact:!0,auth:e})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.82bbd876.chunk.js.map